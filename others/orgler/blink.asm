;*******************************************************************************
; *** Orgler electronic BLINK.ASM ***
;*******************************************************************************

ROM                 equ       $F000               ;Valid for all JL3, JK3, JK1

PORTB               equ       $0001
PORTD               equ       $0003

DDRB                equ       $0005
DDRD                equ       $0007
CONFIG1             equ       $001F               ;System configuration register

;*******************************************************************************
                    #ROM      ROM
;*******************************************************************************

MainInit            proc
                    mov       #$01,CONFIG1        ;disable COP
          ;--------------------------------------
                    mov       #%10100000,PORTD
                    mov       #%11101000,DDRD
                    mov       #%11111110,DDRB
          ;--------------------------------------
Loop@@              clrhx
_@@                 aix       #1
                    cphx      #$C000
                    bne       _@@

                    lda       PORTD
                    eor       #$FF
                    sta       PORTD

                    lda       PORTB
                    eor       #$FE
                    sta       PORTB

                    bra       Loop@@

;*******************************************************************************
                    #VECTORS
;*******************************************************************************
                    org       $FFFE
                    dw        MainInit            ;Reset Vector
